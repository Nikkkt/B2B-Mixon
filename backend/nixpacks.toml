providers = ["shell"]   # prevent default dotnet buildpack

[phases.setup]
cmds = [
  "curl -sSL https://dot.net/v1/dotnet-install.sh -o /tmp/dotnet-install.sh",
  "bash /tmp/dotnet-install.sh --version 9.0.308 --install-dir /opt/dotnet",
  "ln -sf /opt/dotnet/dotnet /usr/local/bin/dotnet"
]

[phases.build]
cmd = "dotnet publish -c Release -o out"

[start]
cmd = "dotnet out/backend.dll"